# Development Dockerfile for Expo React Native app
FROM node:22-alpine

# Install watchman and other dependencies
RUN apk add --no-cache --update \
    bash \
    git \
    python3 \
    make \
    g++ \
    openssh \
    curl \
    && npm install -g expo-cli

WORKDIR /app

COPY package*.json ./
RUN npm install

COPY . .

# Expose Metro and Expo ports
EXPOSE 8081
EXPOSE 19000
EXPOSE 19001
EXPOSE 19002

CMD ["npx", "expo", "start", "--tunnel"]
